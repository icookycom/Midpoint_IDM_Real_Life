<apti:object xmlns:apti="http://midpoint.evolveum.com/xml/ns/public/common/api-types-3" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" xmlns:org="http://midpoint.evolveum.com/xml/ns/public/common/org-3" xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3" xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" oid="4ef63d2d-140b-49b5-ae94-07b1d5884e11" version="19"  xsi:type="c:ResourceType">
        <_metadata id="1">
            <storage>
                <createTimestamp>2024-11-11T10:37:34.049Z</createTimestamp>
                <creatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
                <createChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</createChannel>
                <modifyTimestamp>2024-11-13T08:35:18.761Z</modifyTimestamp>
                <modifierRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
                <modifyChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</modifyChannel>
            </storage>
            <process>
                <requestTimestamp>2024-11-11T10:37:34.013Z</requestTimestamp>
                <requestorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            </process>
        </_metadata>
        <name>HR CSV</name>
        <lifecycleState>active</lifecycleState>
        <operationExecution id="27">
            <recordType>simple</recordType>
            <timestamp>2024-11-11T10:40:36.142Z</timestamp>
            <operation>
                <objectDelta>
                    <t:changeType>modify</t:changeType>
                    <t:objectType>c:ResourceType</t:objectType>
                </objectDelta>
                <executionResult>
                    <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                    <status>success</status>
                    <importance>normal</importance>
                    <token>1000000000000028515</token>
                </executionResult>
                <objectName>HR CSV</objectName>
            </operation>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <operationExecution id="28">
            <recordType>simple</recordType>
            <timestamp>2024-11-12T08:32:14.624Z</timestamp>
            <operation>
                <objectDelta>
                    <t:changeType>modify</t:changeType>
                    <t:objectType>c:ResourceType</t:objectType>
                </objectDelta>
                <executionResult>
                    <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                    <status>success</status>
                    <importance>normal</importance>
                    <token>1000000000000087732</token>
                </executionResult>
                <objectName>HR CSV</objectName>
            </operation>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <operationExecution id="29">
            <recordType>simple</recordType>
            <timestamp>2024-11-12T08:32:25.679Z</timestamp>
            <operation>
                <objectDelta>
                    <t:changeType>modify</t:changeType>
                    <t:objectType>c:ResourceType</t:objectType>
                </objectDelta>
                <executionResult>
                    <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                    <status>success</status>
                    <importance>normal</importance>
                    <token>1000000000000088542</token>
                </executionResult>
                <objectName>HR CSV</objectName>
            </operation>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <operationExecution id="30">
            <recordType>simple</recordType>
            <timestamp>2024-11-13T08:02:16.279Z</timestamp>
            <operation>
                <objectDelta>
                    <t:changeType>modify</t:changeType>
                    <t:objectType>c:ResourceType</t:objectType>
                </objectDelta>
                <executionResult>
                    <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                    <status>success</status>
                    <importance>normal</importance>
                    <token>1000000000000038641</token>
                </executionResult>
                <objectName>HR CSV</objectName>
            </operation>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <operationExecution id="33">
            <recordType>simple</recordType>
            <timestamp>2024-11-13T08:35:18.788Z</timestamp>
            <operation>
                <objectDelta>
                    <t:changeType>modify</t:changeType>
                    <t:objectType>c:ResourceType</t:objectType>
                </objectDelta>
                <executionResult>
                    <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                    <status>success</status>
                    <importance>normal</importance>
                    <token>1000000000000073720</token>
                </executionResult>
                <objectName>HR CSV</objectName>
            </operation>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <operationExecution id="34">
            <recordType>complex</recordType>
            <timestamp>2024-11-18T08:09:27.706Z</timestamp>
            <status>success</status>
            <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <taskRef oid="95b6c786-0099-4bb6-9f8b-80d9bb19ed6b" relation="org:default" type="c:TaskType"/>
            <activityPath/>
            <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
        </operationExecution>
        <iteration>0</iteration>
        <iterationToken/>
        <operationalState>
            <lastAvailabilityStatus>up</lastAvailabilityStatus>
            <message>Status set to UP because resource schema was successfully fetched</message>
            <timestamp>2024-11-11T10:37:34.096Z</timestamp>
            <nodeId>DefaultNode</nodeId>
        </operationalState>
        <operationalStateHistory id="5">
            <lastAvailabilityStatus>up</lastAvailabilityStatus>
            <message>Status set to UP because resource schema was successfully fetched</message>
            <timestamp>2024-11-11T10:37:34.096Z</timestamp>
            <nodeId>DefaultNode</nodeId>
        </operationalStateHistory>
        <connectorRef oid="85021a1e-3eea-421f-8d8f-9f98022efc6b" relation="org:default" type="c:ConnectorType"/>
        <connectorConfiguration xmlns:icfc="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/connector-schema-3">
            <icfc:configurationProperties xmlns:cfg="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/com.evolveum.polygon.connector-csv/com.evolveum.polygon.connector.csv.CsvConnector">
                <cfg:multivalueDelimiter>_</cfg:multivalueDelimiter>
                <cfg:fieldDelimiter>;</cfg:fieldDelimiter>
                <cfg:filePath>/opt/midpoint/var/info/hr.csv</cfg:filePath>
                <cfg:nameAttribute>hr_id</cfg:nameAttribute>
                <cfg:uniqueAttribute>hr_id</cfg:uniqueAttribute>
            </icfc:configurationProperties>
        </connectorConfiguration>
        <schema>
            <cachingMetadata>
                <retrievalTimestamp>2024-11-11T10:37:34.096Z</retrievalTimestamp>
                <serialNumber>63b38f728e005814-70ebb0e62b9dc34e</serialNumber>
            </cachingMetadata>
            <generationConstraints>
                <generateObjectClass>ri:AccountObjectClass</generateObjectClass>
            </generationConstraints>
            <definition>
                <xsd:schema xmlns:a="http://prism.evolveum.com/xml/ns/public/annotation-3" xmlns:ra="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3" xmlns:tns="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3" xmlns:xsd="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3">
                    <xsd:import namespace="http://prism.evolveum.com/xml/ns/public/annotation-3"/>
                    <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3"/>
                    <xsd:complexType name="AccountObjectClass">
                        <xsd:annotation>
                            <xsd:appinfo>
                                <a:container>true</a:container>
                                <ra:resourceObject>true</ra:resourceObject>
                                <ra:nativeObjectClass>__ACCOUNT__</ra:nativeObjectClass>
                                <ra:default>true</ra:default>
                                <ra:auxiliary>false</ra:auxiliary>
                                <ra:embedded>false</ra:embedded>
                                <ra:namingAttribute>ri:hr_id</ra:namingAttribute>
                                <ra:displayNameAttribute>ri:hr_id</ra:displayNameAttribute>
                                <ra:identifier>ri:hr_id</ra:identifier>
                            </xsd:appinfo>
                        </xsd:annotation>
                        <xsd:sequence>
                            <xsd:element minOccurs="0" name="department" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>120</a:displayOrder>
                                        <ra:nativeAttributeName>department</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>department</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="name_2" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>130</a:displayOrder>
                                        <ra:nativeAttributeName>name_2</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>name_2</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="name_3" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>140</a:displayOrder>
                                        <ra:nativeAttributeName>name_3</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>name_3</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="name_1" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>150</a:displayOrder>
                                        <ra:nativeAttributeName>name_1</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>name_1</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="region" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>160</a:displayOrder>
                                        <ra:nativeAttributeName>region</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>region</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="status" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>170</a:displayOrder>
                                        <ra:nativeAttributeName>status</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>status</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="city" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>180</a:displayOrder>
                                        <ra:nativeAttributeName>city</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>city</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="date_start" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>190</a:displayOrder>
                                        <ra:nativeAttributeName>date_start</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>date_start</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="grade" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>200</a:displayOrder>
                                        <ra:nativeAttributeName>grade</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>grade</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="title" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>210</a:displayOrder>
                                        <ra:nativeAttributeName>title</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>title</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element name="hr_id" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>100</a:displayOrder>
                                        <ra:nativeAttributeName>hr_id</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>__NAME__</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="info_2" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>220</a:displayOrder>
                                        <ra:nativeAttributeName>info_2</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>info_2</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="info_1" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>230</a:displayOrder>
                                        <ra:nativeAttributeName>info_1</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>info_1</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="type" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>240</a:displayOrder>
                                        <ra:nativeAttributeName>type</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>type</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="date_end" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>250</a:displayOrder>
                                        <ra:nativeAttributeName>date_end</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>date_end</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                            <xsd:element minOccurs="0" name="info_3" type="xsd:string">
                                <xsd:annotation>
                                    <xsd:appinfo>
                                        <a:displayOrder>260</a:displayOrder>
                                        <ra:nativeAttributeName>info_3</ra:nativeAttributeName>
                                        <ra:frameworkAttributeName>info_3</ra:frameworkAttributeName>
                                        <ra:returnedByDefault>true</ra:returnedByDefault>
                                    </xsd:appinfo>
                                </xsd:annotation>
                            </xsd:element>
                        </xsd:sequence>
                    </xsd:complexType>
                </xsd:schema>
            </definition>
        </schema>
        <schemaHandling>
            <objectType id="6">
                <kind>account</kind>
                <intent>intent HR person source</intent>
                <displayName>HR person source</displayName>
                <default>true</default>
                <delineation>
                    <objectClass>ri:AccountObjectClass</objectClass>
                </delineation>
                <focus>
                    <type>c:UserType</type>
                </focus>
                <attribute id="8">
                    <ref>ri:hr_id</ref>
                    <inbound id="9">
                        <name>01</name>
                        <strength>strong</strength>
                        <target>
                            <path>personalNumber</path>
                        </target>
                    </inbound>
                    <inbound id="10">
                        <name>02</name>
                        <strength>weak</strength>
                        <expression>
                            <script>
                                <code>"HRID:" + input</code>
                            </script>
                        </expression>
                        <target>
                            <path>name</path>
                        </target>
                    </inbound>
                </attribute>
                <attribute id="11">
                    <ref>ri:name_1</ref>
                    <inbound id="12">
                        <name>03</name>
                        <strength>strong</strength>
                        <target>
                            <path>givenName</path>
                        </target>
                    </inbound>
                </attribute>
                <attribute id="13">
                    <ref>ri:name_2</ref>
                    <inbound id="14">
                        <name>04</name>
                        <strength>strong</strength>
                        <target>
                            <path>additionalName</path>
                        </target>
                    </inbound>
                </attribute>
                <attribute id="15">
                    <ref>ri:name_3</ref>
                    <inbound id="16">
                        <name>05</name>
                        <strength>strong</strength>
                        <target>
                            <path>familyName</path>
                        </target>
                    </inbound>
                </attribute>
                <attribute id="17">
                    <ref>ri:title</ref>
                    <inbound id="18">
                        <name>06</name>
                        <strength>strong</strength>
                        <target>
                            <path>title</path>
                        </target>
                    </inbound>
                </attribute>
                <correlation>
                    <correlators>
                        <items id="25">
                            <item id="26">
                                <ref>personalNumber</ref>
                            </item>
                        </items>
                    </correlators>
                </correlation>
                <synchronization>
                    <reaction id="20">
                        <situation>unlinked</situation>
                        <actions>
                            <link id="21"/>
                        </actions>
                    </reaction>
                    <reaction id="22">
                        <situation>unmatched</situation>
                        <actions>
                            <addFocus id="23"/>
                        </actions>
                    </reaction>
                    <reaction id="31">
                        <situation>linked</situation>
                        <actions>
                            <synchronize id="32"/>
                        </actions>
                    </reaction>
                </synchronization>
            </objectType>
        </schemaHandling>
        <capabilities>
            <cachingMetadata>
                <retrievalTimestamp>2024-11-11T10:37:34.086Z</retrievalTimestamp>
                <serialNumber>7530dfcf5e9d5fa2-33e3f379a2674b9</serialNumber>
            </cachingMetadata>
            <native xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3">
                <cap:schema/>
                <cap:discoverConfiguration/>
                <cap:liveSync/>
                <cap:create/>
                <cap:read>
                    <cap:returnDefaultAttributesOption>false</cap:returnDefaultAttributesOption>
                </cap:read>
                <cap:update>
                    <cap:addRemoveAttributeValues>true</cap:addRemoveAttributeValues>
                </cap:update>
                <cap:delete/>
                <cap:testConnection/>
                <cap:script>
                    <cap:host id="3">
                        <cap:type>resource</cap:type>
                    </cap:host>
                    <cap:host id="4">
                        <cap:type>connector</cap:type>
                    </cap:host>
                </cap:script>
            </native>
        </capabilities>
    </apti:object>
