<task xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" xmlns:org="http://midpoint.evolveum.com/xml/ns/public/common/org-3" xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3" xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" oid="00000000-0000-0000-0000-000000000005" version="1227" >
    <_metadata id="2">
        <storage>
            <createTimestamp>2024-11-08T07:43:55.904Z</createTimestamp>
            <createChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#init</createChannel>
        </storage>
        <process>
            <requestTimestamp>2024-11-08T07:43:55.886Z</requestTimestamp>
        </process>
    </_metadata>
    <name>Cleanup</name>
    <description>A system task that repeatedly checks for outdated objects (e.g. closed tasks, old audit records) and removes them.</description>
    <operationExecution id="7">
        <recordType>simple</recordType>
        <timestamp>2024-11-08T07:43:55.943Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>add</t:changeType>
                <t:objectType>c:TaskType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000000507</token>
            </executionResult>
            <objectName>Cleanup</objectName>
        </operation>
        <status>success</status>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#init</channel>
    </operationExecution>
    <operationExecution id="44">
        <recordType>complex</recordType>
        <timestamp>2024-11-08T07:53:14.620Z</timestamp>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <taskRef oid="b0d65371-2a0e-4970-93cc-6d82a82b8dfa" relation="org:default" type="c:TaskType"/>
        <activityPath/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <operationExecution id="261">
        <recordType>complex</recordType>
        <timestamp>2024-11-18T08:09:25.457Z</timestamp>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <taskRef oid="95b6c786-0099-4bb6-9f8b-80d9bb19ed6b" relation="org:default" type="c:TaskType"/>
        <activityPath/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <assignment id="1">
        <_metadata id="3">
            <storage>
                <createTimestamp>2024-11-08T07:43:55.904Z</createTimestamp>
                <createChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#init</createChannel>
            </storage>
            <process>
                <requestTimestamp>2024-11-08T07:43:55.886Z</requestTimestamp>
            </process>
            <provenance>
                <acquisition id="4">
                    <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#init</channel>
                    <timestamp>2024-11-08T07:43:55.886Z</timestamp>
                </acquisition>
            </provenance>
        </_metadata>
        <identifier>archetype</identifier>
        <targetRef oid="00000000-0000-0000-0000-000000000506" relation="org:default" type="c:ArchetypeType"/>
        <activation>
            <effectiveStatus>enabled</effectiveStatus>
        </activation>
    </assignment>
    <iteration>0</iteration>
    <iterationToken/>
    <archetypeRef oid="00000000-0000-0000-0000-000000000506" relation="org:default" type="c:ArchetypeType"/>
    <roleMembershipRef oid="00000000-0000-0000-0000-000000000506" relation="org:default" type="c:ArchetypeType">
        <_metadata id="5">
            <storage>
                <createTimestamp>2024-11-08T07:43:55.903Z</createTimestamp>
            </storage>
            <provenance>
                <assignmentPath>
                    <sourceRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType"/>
                    <segment id="6">
                        <segmentOrder>1</segmentOrder>
                        <assignmentId>1</assignmentId>
                        <targetRef oid="00000000-0000-0000-0000-000000000506" relation="org:default" type="c:ArchetypeType"/>
                        <matchingOrder>true</matchingOrder>
                    </segment>
                </assignmentPath>
            </provenance>
        </_metadata>
    </roleMembershipRef>
    <taskIdentifier>1731051835911-53013-1</taskIdentifier>
    <ownerRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
    <executionState>runnable</executionState>
    <schedulingState>ready</schedulingState>
    <result incomplete="true"/>
    <resultStatus>success</resultStatus>
    <lastRunStartTimestamp>2024-11-28T06:16:23.008Z</lastRunStartTimestamp>
    <lastRunFinishTimestamp>2024-11-28T06:16:24.015Z</lastRunFinishTimestamp>
    <progress>0</progress>
    <operationStats>
        <environmentalPerformanceInformation>
            <provisioningStatistics/>
            <mappingsStatistics/>
            <notificationsStatistics/>
        </environmentalPerformanceInformation>
        <repositoryPerformanceInformation>
            <operation>
                <name>SqaleRepositoryService.getObject</name>
                <invocationCount>9</invocationCount>
                <executionCount>9</executionCount>
                <totalTime>70</totalTime>
                <minTime>4</minTime>
                <maxTime>24</maxTime>
                <totalWastedTime>0</totalWastedTime>
                <minWastedTime>0</minWastedTime>
                <maxWastedTime>0</maxWastedTime>
            </operation>
            <operation>
                <name>SqaleAuditService.cleanupAuditMaxAge</name>
                <invocationCount>1</invocationCount>
                <executionCount>1</executionCount>
                <totalTime>9</totalTime>
                <minTime>9</minTime>
                <maxTime>9</maxTime>
                <totalWastedTime>0</totalWastedTime>
                <minWastedTime>0</minWastedTime>
                <maxWastedTime>0</maxWastedTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.searchObjects</name>
                <invocationCount>1</invocationCount>
                <executionCount>1</executionCount>
                <totalTime>1</totalTime>
                <minTime>1</minTime>
                <maxTime>1</maxTime>
                <totalWastedTime>0</totalWastedTime>
                <minWastedTime>0</minWastedTime>
                <maxWastedTime>0</maxWastedTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.modifyObjectDynamically</name>
                <invocationCount>15</invocationCount>
                <executionCount>15</executionCount>
                <totalTime>268</totalTime>
                <minTime>8</minTime>
                <maxTime>31</maxTime>
                <totalWastedTime>0</totalWastedTime>
                <minWastedTime>0</minWastedTime>
                <maxWastedTime>0</maxWastedTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.modifyObject</name>
                <invocationCount>25</invocationCount>
                <executionCount>25</executionCount>
                <totalTime>398</totalTime>
                <minTime>9</minTime>
                <maxTime>39</maxTime>
                <totalWastedTime>0</totalWastedTime>
                <minWastedTime>0</minWastedTime>
                <maxWastedTime>0</maxWastedTime>
            </operation>
        </repositoryPerformanceInformation>
        <cachesPerformanceInformation>
            <cache>
                <name>com.evolveum.midpoint.repo.cache.global.GlobalObjectCache</name>
                <hitCount>7</hitCount>
                <weakHitCount>0</weakHitCount>
                <missCount>0</missCount>
                <passCount>0</passCount>
                <notAvailableCount>0</notAvailableCount>
            </cache>
            <cache>
                <name>com.evolveum.midpoint.repo.cache.global.GlobalVersionCache</name>
                <hitCount>1</hitCount>
                <weakHitCount>0</weakHitCount>
                <missCount>0</missCount>
                <passCount>0</passCount>
                <notAvailableCount>0</notAvailableCount>
            </cache>
            <cache>
                <name>com.evolveum.midpoint.repo.cache.local.LocalVersionCache</name>
                <hitCount>0</hitCount>
                <weakHitCount>0</weakHitCount>
                <missCount>0</missCount>
                <passCount>0</passCount>
                <notAvailableCount>1</notAvailableCount>
            </cache>
            <cache>
                <name>com.evolveum.midpoint.repo.cache.local.LocalObjectCache</name>
                <hitCount>0</hitCount>
                <weakHitCount>0</weakHitCount>
                <missCount>0</missCount>
                <passCount>0</passCount>
                <notAvailableCount>7</notAvailableCount>
            </cache>
        </cachesPerformanceInformation>
        <operationsPerformanceInformation>
            <operation>
                <name>com.evolveum.midpoint.task.api.Task.refresh</name>
                <invocationCount>8</invocationCount>
                <totalTime>55170</totalTime>
                <minTime>3792</minTime>
                <maxTime>9756</maxTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.getObject</name>
                <invocationCount>9</invocationCount>
                <totalTime>70104</totalTime>
                <minTime>3531</minTime>
                <maxTime>24525</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.task.api.TaskManager.cleanupTasks</name>
                <invocationCount>1</invocationCount>
                <totalTime>4649</totalTime>
                <minTime>4649</minTime>
                <maxTime>4649</maxTime>
            </operation>
            <operation>
                <name>SqaleAuditService.cleanupAuditMaxAge</name>
                <invocationCount>1</invocationCount>
                <totalTime>8384</totalTime>
                <minTime>8384</minTime>
                <maxTime>8384</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.notifications.api.NotificationManager.processEvent</name>
                <invocationCount>7</invocationCount>
                <totalTime>12141</totalTime>
                <minTime>1520</minTime>
                <maxTime>2681</maxTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.searchObjects</name>
                <invocationCount>1</invocationCount>
                <totalTime>1191</totalTime>
                <minTime>1191</minTime>
                <maxTime>1191</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.repo.cache.RepositoryCache.getVersion</name>
                <invocationCount>1</invocationCount>
                <totalTime>285</totalTime>
                <minTime>285</minTime>
                <maxTime>285</maxTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.modifyObject</name>
                <invocationCount>25</invocationCount>
                <totalTime>395402</totalTime>
                <minTime>9488</minTime>
                <maxTime>39192</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.repo.common.activity.run.LocalActivityRun.runLocally</name>
                <invocationCount>7</invocationCount>
                <totalTime>714932</totalTime>
                <minTime>58</minTime>
                <maxTime>691293</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.repo.cache.RepositoryCache.getObject</name>
                <invocationCount>7</invocationCount>
                <totalTime>11757</totalTime>
                <minTime>1471</minTime>
                <maxTime>2594</maxTime>
            </operation>
            <operation>
                <name>com.evolveum.midpoint.task.api.TaskManager.cleanupTasks.statistics</name>
                <invocationCount>1</invocationCount>
                <totalTime>56</totalTime>
                <minTime>56</minTime>
                <maxTime>56</maxTime>
            </operation>
            <operation>
                <name>SqaleRepositoryService.modifyObjectDynamically</name>
                <invocationCount>15</invocationCount>
                <totalTime>266444</totalTime>
                <minTime>7410</minTime>
                <maxTime>31218</maxTime>
            </operation>
        </operationsPerformanceInformation>
        <cachingConfiguration>Caching configuration for thread midPointScheduler_Worker-1 on 2024-11-28T06:16:24.000Z:

Profiles: []</cachingConfiguration>
        <timestamp>2024-11-28T06:16:24.000Z</timestamp>
    </operationStats>
    <binding>loose</binding>
    <schedule>
        <interval>86400</interval>
    </schedule>
    <activity>
        <work>
            <cleanup/>
        </work>
    </activity>
    <activityState>
        <activity>
            <realizationState>complete</realizationState>
            <resultStatus>success</resultStatus>
            <realizationStartTimestamp>2024-11-28T06:16:23.237Z</realizationStartTimestamp>
            <realizationEndTimestamp>2024-11-28T06:16:23.958Z</realizationEndTimestamp>
            <runStartTimestamp>2024-11-28T06:16:23.237Z</runStartTimestamp>
            <runEndTimestamp>2024-11-28T06:16:23.958Z</runEndTimestamp>
            <workState/>
            <persistence>singleRealization</persistence>
            <activity id="442">
                <identifier>auditRecords</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.446Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.537Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.446Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.537Z</runEndTimestamp>
                <statistics>
                    <itemProcessing>
                        <run id="449">
                            <startTimestamp>2024-11-28T06:16:23.446Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.537Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
            <activity id="443">
                <identifier>closedTasks</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.606Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.663Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.606Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.663Z</runEndTimestamp>
                <progress/>
                <statistics>
                    <itemProcessing>
                        <run id="451">
                            <startTimestamp>2024-11-28T06:16:23.606Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.663Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
            <activity id="444">
                <identifier>closedCases</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.701Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.744Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.701Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.744Z</runEndTimestamp>
                <progress/>
                <statistics>
                    <itemProcessing>
                        <run id="453">
                            <startTimestamp>2024-11-28T06:16:23.701Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.744Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
            <activity id="445">
                <identifier>deadNodes</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.797Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.835Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.797Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.835Z</runEndTimestamp>
                <progress/>
                <statistics>
                    <itemProcessing>
                        <run id="455">
                            <startTimestamp>2024-11-28T06:16:23.797Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.835Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
            <activity id="446">
                <identifier>outputReports</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.862Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.888Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.862Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.888Z</runEndTimestamp>
                <statistics>
                    <itemProcessing>
                        <run id="457">
                            <startTimestamp>2024-11-28T06:16:23.862Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.888Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
            <activity id="447">
                <identifier>closedCertificationCampaigns</identifier>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <realizationStartTimestamp>2024-11-28T06:16:23.912Z</realizationStartTimestamp>
                <realizationEndTimestamp>2024-11-28T06:16:23.934Z</realizationEndTimestamp>
                <runStartTimestamp>2024-11-28T06:16:23.912Z</runStartTimestamp>
                <runEndTimestamp>2024-11-28T06:16:23.934Z</runEndTimestamp>
                <statistics>
                    <itemProcessing>
                        <run id="459">
                            <startTimestamp>2024-11-28T06:16:23.912Z</startTimestamp>
                            <endTimestamp>2024-11-28T06:16:23.934Z</endTimestamp>
                        </run>
                    </itemProcessing>
                </statistics>
                <persistence>singleRealization</persistence>
            </activity>
        </activity>
        <tree>
            <realizationState>complete</realizationState>
            <activity>
                <realizationState>complete</realizationState>
                <resultStatus>success</resultStatus>
                <task>
                    <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                        <targetName>Cleanup</targetName>
                    </taskRef>
                    <node>DefaultNode</node>
                    <executionState>notRunning</executionState>
                    <resultStatus>success</resultStatus>
                </task>
                <progressInformationVisibility>hidden</progressInformationVisibility>
                <persistence>singleRealization</persistence>
                <activity>
                    <identifier>auditRecords</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
                <activity>
                    <identifier>closedTasks</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
                <activity>
                    <identifier>closedCases</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
                <activity>
                    <identifier>deadNodes</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
                <activity>
                    <identifier>outputReports</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
                <activity>
                    <identifier>closedCertificationCampaigns</identifier>
                    <realizationState>complete</realizationState>
                    <resultStatus>success</resultStatus>
                    <task>
                        <taskRef oid="00000000-0000-0000-0000-000000000005" relation="org:default" type="c:TaskType" xsi:type="c:ObjectReferenceType">
                            <targetName>Cleanup</targetName>
                        </taskRef>
                        <node>DefaultNode</node>
                        <executionState>notRunning</executionState>
                        <resultStatus>success</resultStatus>
                    </task>
                    <progressInformationVisibility>hidden</progressInformationVisibility>
                    <persistence>singleRealization</persistence>
                </activity>
            </activity>
        </tree>
    </activityState>
    <affectedObjects/>
</task>
