<archetype xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" xmlns:org="http://midpoint.evolveum.com/xml/ns/public/common/org-3" xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3" xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" oid="29587779-047a-4965-b16b-ead921f9cfe1" version="17" >
    <_metadata id="1">
        <storage>
            <createTimestamp>2024-11-26T06:48:58.405Z</createTimestamp>
            <creatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <createChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</createChannel>
            <modifyTimestamp>2024-11-26T07:03:05.024Z</modifyTimestamp>
            <modifierRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
            <modifyChannel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</modifyChannel>
        </storage>
        <process>
            <requestTimestamp>2024-11-26T06:48:58.335Z</requestTimestamp>
            <requestorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        </process>
    </_metadata>
    <name>AD Group Shared ArcheType</name>
    <operationExecution id="4">
        <recordType>simple</recordType>
        <timestamp>2024-11-26T06:57:00.090Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>modify</t:changeType>
                <t:objectType>c:ArchetypeType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000009533</token>
            </executionResult>
            <objectName>AD Group Shared ArcheType</objectName>
        </operation>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <operationExecution id="5">
        <recordType>simple</recordType>
        <timestamp>2024-11-26T06:58:23.733Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>modify</t:changeType>
                <t:objectType>c:ArchetypeType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000009973</token>
            </executionResult>
            <objectName>AD Group Shared ArcheType</objectName>
        </operation>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <operationExecution id="6">
        <recordType>simple</recordType>
        <timestamp>2024-11-26T06:59:09.617Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>modify</t:changeType>
                <t:objectType>c:ArchetypeType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000010174</token>
            </executionResult>
            <objectName>AD Group Shared ArcheType</objectName>
        </operation>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <operationExecution id="7">
        <recordType>simple</recordType>
        <timestamp>2024-11-26T06:59:21.014Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>modify</t:changeType>
                <t:objectType>c:ArchetypeType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000010373</token>
            </executionResult>
            <objectName>AD Group Shared ArcheType</objectName>
        </operation>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <operationExecution id="8">
        <recordType>simple</recordType>
        <timestamp>2024-11-26T07:03:05.038Z</timestamp>
        <operation>
            <objectDelta>
                <t:changeType>modify</t:changeType>
                <t:objectType>c:ArchetypeType</t:objectType>
            </objectDelta>
            <executionResult>
                <operation>com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta</operation>
                <status>success</status>
                <importance>normal</importance>
                <token>1000000000000011353</token>
            </executionResult>
            <objectName>AD Group Shared ArcheType</objectName>
        </operation>
        <status>success</status>
        <initiatorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
        <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
    </operationExecution>
    <assignment id="1">
        <identifier>holderType</identifier>
        <activation>
            <effectiveStatus>enabled</effectiveStatus>
        </activation>
        <assignmentRelation id="2">
            <holderType>RoleType</holderType>
        </assignmentRelation>
    </assignment>
    <iteration>0</iteration>
    <iterationToken/>
    <activation>
        <effectiveStatus>enabled</effectiveStatus>
        <enableTimestamp>2024-11-26T06:48:58.348Z</enableTimestamp>
    </activation>
    <inducement id="7">
        <construction>
            <resourceRef oid="b8618fba-cf8b-416c-8e3b-32ea34cf003d" relation="org:default" type="c:ResourceType"/>
            <kind>account</kind>
            <intent>intent  MS AD account</intent>
            <association id="28">
                <ref>AD shared group membership to Midpoint</ref>
                <outbound>
                    <expression>
                        <associationFromLink>
                            <projectionDiscriminator xsi:type="c:ShadowDiscriminatorType">
                                <kind>entitlement</kind>
                                <intent>intent Groups Shared Folder POC</intent>
                            </projectionDiscriminator>
                        </associationFromLink>
                    </expression>
                </outbound>
            </association>
        </construction>
        <order>2</order>
        <focusType>UserType</focusType>
    </inducement>
    <inducement id="30">
        <policyRule>
            <name>User must have role MS AD account 2.0</name>
            <policyConstraints>
                <requirement id="31">
                    <targetRef oid="1cae659f-69f2-43b8-b075-8226d718eef9" relation="org:default" type="c:RoleType"/>
                </requirement>
            </policyConstraints>
            <policyActions>
                <approval id="35">
                    <approverRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType">
                        <_metadata id="37">
                            <provenance>
                                <acquisition id="38">
                                    <actorRef oid="00000000-0000-0000-0000-000000000002" relation="org:default" type="c:UserType"/>
                                    <channel>http://midpoint.evolveum.com/xml/ns/public/common/channels-3#user</channel>
                                    <timestamp>2024-11-20T06:54:42.638Z</timestamp>
                                </acquisition>
                            </provenance>
                        </_metadata>
                    </approverRef>
                </approval>
            </policyActions>
            <evaluationTarget>assignment</evaluationTarget>
        </policyRule>
    </inducement>
    <archetypePolicy>
        <display>
            <label>AD Group Shared role</label>
            <pluralLabel>AD Group Shared roles</pluralLabel>
            <icon>
                <cssClass>fa fa-people-group</cssClass>
                <color>#ba16f0</color>
            </icon>
        </display>
    </archetypePolicy>
</archetype>
